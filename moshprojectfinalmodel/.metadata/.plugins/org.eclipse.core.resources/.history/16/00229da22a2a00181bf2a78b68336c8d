package moshproject.agent.mode.attributes;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.Vector;

import moshproject.agents.mode.Cycle;
import moshproject.agents.mode.Mode;
import moshproject.agents.mode.PersonalVehicle;
import moshproject.agents.mode.PublicTransport;
import moshproject.agents.mode.Walking;
import moshproject.agents.passenger.Passenger;
import moshproject.common.Constants;
import moshproject.common.FuzzyDecisionVariables;
import moshproject.fuzzycollections.ThreeVariablesDecisionGenerator;

public class DistanceToMainMode {
	Passenger passenger;
	Mode prefferedMode;
	FuzzyDecisionVariables pca; 
	
	ThreeVariablesDecisionGenerator  evaluateThreeVariablesSatisfaction;
	Map<String, List<Double>> otherVariables;		
	ArrayList<Double> weigthValues;	
	private Vector modeReliabilityDecisionVariables;
	private double distanceToMainModeAffective;
	private double distanceToMainModeCognitive;
	private double distanceToMainModePhysical;
	private double distanceToMainMode;
	private double privateDistanceToDestination;
	private double publicDistanceToDestination;
	private double publicDistanceToMainModeAffective;
	private double privateDistanceToMainModeAffective;
	private double publicDistanceToMainModeCognitive;
	private double privateDistanceToMainModeCognitive;
	private double publicDistanceToMainModePhysical;
	private double privateDistanceToMainModePhysical;
		
	public DistanceToMainMode (Mode prefferedMode) {
		this.prefferedMode =prefferedMode;
		updateDistanceToMainMode();
	}
	
	private double updateDistanceToMainModeAffective() {			
		if (prefferedMode instanceof PersonalVehicle)	{
			//distanceToMainModeAffective = prefferedMode.getValueOfAttribute(Constants.distanceToMainModeAffective);					
		}else if (prefferedMode instanceof PublicTransport){
			distanceToMainModeAffective = prefferedMode.getValueOfAttribute(Constants.distanceToMainModeAffective);											
		}else if (prefferedMode instanceof Cycle){
			distanceToMainModeAffective = prefferedMode.getValueOfAttribute(Constants.distanceToMainModeAffective);								
		}else if (prefferedMode instanceof Walking){
			distanceToMainModeAffective = prefferedMode.getValueOfAttribute(Constants.distanceToMainModeAffective);												
		}			
		return distanceToMainModeAffective;			
	}		
	public double getDistanceToMainModeAffective() {
		return distanceToMainModeAffective;
	}

	public double getPublicTransDistanceToMainModeAffective(){
		if(prefferedMode instanceof PublicTransport){
			publicDistanceToMainModeAffective = this.getDistanceToMainModeAffective();
		}				
		return publicDistanceToMainModeAffective;
	}
	
	public double getPrivateDistanceToMainModeAffective(){
		if(prefferedMode instanceof PersonalVehicle){
			privateDistanceToMainModeAffective = this.getDistanceToMainModeAffective();
		}				
		return privateDistanceToMainModeAffective;
	}
	
	private double updateDistanceToMainModeCognitive() {			
		if (prefferedMode instanceof PersonalVehicle)	{
			//distanceToMainModePhysical = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);					
		}else if (prefferedMode instanceof PublicTransport){
			distanceToMainModeCognitive = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);											
		}else if (prefferedMode instanceof Cycle){
			distanceToMainModeCognitive = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);								
		}else if (prefferedMode instanceof Walking){
			distanceToMainModeCognitive = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);													
		}			
		return distanceToMainModeCognitive;			
	}	
	public double getDistanceToMainModeCognitive() {
		return distanceToMainModeCognitive;
	}
	public double getPublicTransDistanceToMainModeCognitive(){
		if(prefferedMode instanceof PublicTransport){
			publicDistanceToMainModeCognitive = this.getDistanceToMainModeCognitive();
		}				
		return publicDistanceToMainModeCognitive;
	}
	
	public double getPrivateDistanceToMainModeCognitive(){
		if(prefferedMode instanceof PersonalVehicle){
			privateDistanceToMainModeCognitive = this.getDistanceToMainModeCognitive();
		}				
		return privateDistanceToMainModeCognitive;
	}
	

	private double updateDistanceToMainModePhysical() {			
		if (prefferedMode instanceof PersonalVehicle)	{
			//distanceToMainModePhysical = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);					
		}else if (prefferedMode instanceof PublicTransport){
			distanceToMainModePhysical = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);											
		}else if (prefferedMode instanceof Cycle){
			distanceToMainModePhysical = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);								
		}else if (prefferedMode instanceof Walking){
			distanceToMainModePhysical = prefferedMode.getValueOfAttribute(Constants.distanceToMainModePerception);													
		}			
		return distanceToMainModePhysical;			
	}	
	public double getDistanceToMainModePhysical() {
		return distanceToMainModePhysical;
	}

	
	public double getPublicTransDistanceToMainModePhysical(){
		if(prefferedMode instanceof PublicTransport){
			publicDistanceToMainModePhysical = this.getDistanceToMainModePhysical();
		}				
		return publicDistanceToMainModePhysical;
	}
	
	public double getPrivateDistanceToMainModePhysical(){
		if(prefferedMode instanceof PersonalVehicle){
			privateDistanceToMainModePhysical = this.getDistanceToMainModeCognitive();
		}				
		return privateDistanceToMainModePhysical;
	}
	
	public double updateDistanceToMainMode(){	
		evaluateThreeVariablesSatisfaction= new ThreeVariablesDecisionGenerator();		
		if(prefferedMode instanceof PersonalVehicle){
			updateDistanceToMainModeAffective();
			updateDistanceToMainModeCognitive();
			updateDistanceToMainModePhysical();
		}else if (prefferedMode instanceof PublicTransport){
			updateDistanceToMainModeAffective();
			updateDistanceToMainModeCognitive();
			updateDistanceToMainModePhysical();
		}
	//		distanceToMainMode =	evaluateThreeVariablesSatisfaction.getTip(updateDistanceToMainModePhysical(),updateDistanceToMainModeCognitive(),updateDistanceToMainModeAffective());
	return distanceToMainMode;
	}

	public double getDistanceToMainMode() {
		return distanceToMainMode;
	}
	public double getPrivateDistanceToDestination(){
		if(prefferedMode instanceof PersonalVehicle){
			privateDistanceToDestination = this.getDistanceToMainMode();
		}
//		System.out.println("private Mode reliability is:"+privateModeReliability);
		return (double) privateDistanceToDestination;
	}			
	public double getPublicDistanceToDestination(){
		if(prefferedMode instanceof PublicTransport){
			publicDistanceToDestination = this.getDistanceToMainMode();
		}
//		System.out.println("public Mode Realiability is:"+publicModeReliability);
		return (double) publicDistanceToDestination;
	}
//////////////////////////Fuzzy part	
	public double updateDistanceToMainMode(){	
		evaluateThreeVariablesSatisfaction= new ThreeVariablesDecisionGenerator();		
		if(prefferedMode instanceof PersonalVehicle){
			updateDistanceToMainModeAffective();
			updateDistanceToMainModeCognitive();
			updateDistanceToMainModePhysical();
		}else if (prefferedMode instanceof PublicTransport){
			updateDistanceToMainModeAffective();
			updateDistanceToMainModeCognitive();
			updateDistanceToMainModePhysical();
		}
	//		distanceToMainMode =	evaluateThreeVariablesSatisfaction.getTip(updateDistanceToMainModePhysical(),updateDistanceToMainModeCognitive(),updateDistanceToMainModeAffective());
	return distanceToMainMode;
	
	
	
	
	
	
	}
}
